<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vector Operations Visualizer</title>
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #4a6fa5;
            --secondary: #6b8cbc;
            --accent: #ff6b6b;
            --light: #f8f9fa;
            --dark: #343a40;
            --success: #28a745;
            --warning: #ffc107;
            --info: #17a2b8;
            --ai: #9c27b0;
            --gradient-start: #4361ee;
            --gradient-end: #3a0ca3;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 20px;
            color: var(--dark);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 30px;
            background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            animation: fadeIn 1s ease-out;
            position: relative;
            overflow: hidden;
            color: white;
        }
        
        .header-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.1;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><path d="M0,0 L100,100 M100,0 L0,100" stroke="white" stroke-width="2"/></svg>');
            background-size: 50px 50px;
        }
        
        h1 {
            color: white;
            margin-bottom: 10px;
            font-size: 2.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        .subtitle {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.2rem;
            margin-bottom: 15px;
        }
        
        .nav-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
        }
        
        .nav-btn {
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .nav-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }
        
        @media (max-width: 900px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }
        
        .input-section, .visualization-section {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            animation: slideUp 0.8s ease-out;
            position: relative;
            overflow: hidden;
        }
        
        .input-section {
            animation-delay: 0.2s;
        }
        
        .visualization-section {
            animation-delay: 0.4s;
        }
        
        .section-title {
            color: var(--primary);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--light);
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .vector-inputs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .vector-input {
            background: var(--light);
            padding: 15px;
            border-radius: 10px;
            position: relative;
            border-left: 4px solid var(--primary);
        }
        
        .vector-input h3 {
            margin-bottom: 10px;
            color: var(--secondary);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .coordinate-inputs {
            display: flex;
            gap: 10px;
        }
        
        .coordinate-input {
            flex: 1;
        }
        
        .coordinate-input label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: var(--dark);
        }
        
        .coordinate-input input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        .coordinate-input input:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(74, 111, 165, 0.2);
            outline: none;
        }
        
        .operations-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .operation-btn {
            padding: 12px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .operation-btn:hover {
            background: var(--secondary);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .operation-btn.active {
            background: var(--accent);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .visualization-area {
            height: 300px;
            background: var(--light);
            border-radius: 10px;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
            border: 1px solid #ddd;
            background-image: 
                radial-gradient(circle at 1px 1px, rgba(0,0,0,0.1) 1px, transparent 0);
            background-size: 20px 20px;
        }
        
        .canvas-container {
            width: 100%;
            height: 100%;
            position: relative;
        }
        
        #vectorCanvas {
            width: 100%;
            height: 100%;
        }
        
        .result-display {
            background: var(--light);
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            border-left: 4px solid var(--accent);
        }
        
        .result-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .result-value {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--accent);
            margin-bottom: 15px;
        }
        
        .steps-container {
            margin-top: 15px;
        }
        
        .step {
            padding: 10px;
            margin-bottom: 10px;
            background: white;
            border-radius: 5px;
            border-left: 4px solid var(--info);
            animation: fadeIn 0.5s ease-out;
        }
        
        .step-number {
            display: inline-block;
            width: 25px;
            height: 25px;
            background: var(--info);
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 25px;
            margin-right: 10px;
            font-size: 0.9rem;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideUp {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .vector-label {
            position: absolute;
            font-weight: bold;
            font-size: 14px;
            background: rgba(255, 255, 255, 0.7);
            padding: 2px 5px;
            border-radius: 3px;
        }
        
        .operation-info {
            margin-top: 20px;
            padding: 15px;
            background: #e9f7fe;
            border-radius: 10px;
            border-left: 4px solid var(--info);
        }
        
        .operation-info h4 {
            color: var(--info);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .vector-representation {
            display: flex;
            justify-content: center;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 1.2rem;
        }
        
        .vector {
            display: inline-block;
            padding: 5px 10px;
            margin: 0 10px;
            background: rgba(74, 111, 165, 0.1);
            border-radius: 5px;
        }
        
        .operation-symbol {
            font-size: 1.5rem;
            margin: 0 10px;
        }
        
        .footer {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            color: var(--secondary);
            font-size: 0.9rem;
        }
        
        /* AI Features Styles */
        .ai-features-section {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            margin-top: 30px;
            animation: slideUp 0.8s ease-out;
            animation-delay: 0.6s;
        }
        
        .ai-feature {
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }
        
        .ai-feature:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }
        
        .ai-feature-title {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            color: var(--ai);
        }
        
        .ai-icon {
            font-size: 1.2rem;
        }
        
        .ai-suggestions {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }
        
        .ai-suggestion {
            padding: 8px 15px;
            background: rgba(156, 39, 176, 0.1);
            color: var(--ai);
            border: 1px solid rgba(156, 39, 176, 0.3);
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .ai-suggestion:hover {
            background: rgba(156, 39, 176, 0.2);
            transform: translateY(-2px);
        }
        
        .ai-input-group {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        
        .ai-input {
            flex: 1;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
        }
        
        .ai-btn {
            padding: 10px 20px;
            background: var(--ai);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .ai-btn:hover {
            background: #7b1fa2;
            transform: translateY(-2px);
        }
        
        .ai-toggle {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }
        
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }
        
        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .toggle-slider {
            background-color: var(--ai);
        }
        
        input:checked + .toggle-slider:before {
            transform: translateX(26px);
        }
        
        .ai-explanation {
            margin-top: 15px;
            padding: 15px;
            background: rgba(156, 39, 176, 0.05);
            border-radius: 8px;
            border-left: 4px solid var(--ai);
            display: none;
        }
        
        .ai-explanation.active {
            display: block;
            animation: fadeIn 0.5s ease-out;
        }
        
        .ai-explanation-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--ai);
        }
        
        .voice-btn {
            padding: 10px;
            background: var(--ai);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .voice-btn:hover {
            background: #7b1fa2;
            transform: scale(1.1);
        }
        
        .voice-btn.listening {
            background: var(--accent);
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 107, 107, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(255, 107, 107, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 107, 107, 0); }
        }
        
        /* Decorative elements */
        .math-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            margin-right: 10px;
        }
        
        .feature-icon {
            font-size: 1.5rem;
            color: var(--primary);
        }
        
        .section-icon {
            font-size: 1.2rem;
            color: var(--primary);
        }
        
        .vector-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 24px;
            height: 24px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            font-size: 0.8rem;
        }
    </style>
</head>
<body>
<div class="container">
    <header>
        <div class="header-bg"></div>
        <h1>
            <i class="fas fa-vector-square"></i>
            Vector Operations Visualizer
        </h1>
        <p class="subtitle">Visualize the top 10 vector operations with step-by-step explanations</p>
        <div class="nav-buttons">
            <a href="vector_intro.html" class="nav-btn home-btn">
                <i class="fas fa-home"></i>
                Back to Home
            </a>
            <a href="Vectors_advanced_operations.html" class="nav-btn">
                <i class="fas fa-rocket"></i>
                Advanced Operations
            </a>
            <a href="vector_physics_applications.html" class="nav-btn">
                <i class="fas fa-atom"></i>
                Vector Applications
            </a>
        </div>
    </header>
</div>
        
        <div class="main-content">
            <div class="input-section">
                <h2 class="section-title">
                    <i class="fas fa-edit section-icon"></i>
                    Input Vectors
                </h2>
                
                <div class="vector-inputs">
                    <div class="vector-input">
                        <h3>
                            <i class="fas fa-arrow-right vector-icon">A</i>
                            Vector A
                        </h3>
                        <div class="coordinate-inputs">
                            <div class="coordinate-input">
                                <label for="a-x">
                                    <i class="fas fa-hashtag"></i>
                                    X Component
                                </label>
                                <input type="number" id="a-x" value="3" step="0.1">
                            </div>
                            <div class="coordinate-input">
                                <label for="a-y">
                                    <i class="fas fa-hashtag"></i>
                                    Y Component
                                </label>
                                <input type="number" id="a-y" value="4" step="0.1">
                            </div>
                        </div>
                    </div>
                    
                    <div class="vector-input">
                        <h3>
                            <i class="fas fa-arrow-right vector-icon">B</i>
                            Vector B
                        </h3>
                        <div class="coordinate-inputs">
                            <div class="coordinate-input">
                                <label for="b-x">
                                    <i class="fas fa-hashtag"></i>
                                    X Component
                                </label>
                                <input type="number" id="b-x" value="1" step="0.1">
                            </div>
                            <div class="coordinate-input">
                                <label for="b-y">
                                    <i class="fas fa-hashtag"></i>
                                    Y Component
                                </label>
                                <input type="number" id="b-y" value="-2" step="0.1">
                            </div>
                        </div>
                    </div>
                </div>
                
                <h2 class="section-title">
                    <i class="fas fa-cogs section-icon"></i>
                    Select Operation
                </h2>
                <div class="operations-grid">
                    <button class="operation-btn" data-operation="addition">
                        <i class="fas fa-plus"></i>
                        Addition
                    </button>
                    <button class="operation-btn" data-operation="subtraction">
                        <i class="fas fa-minus"></i>
                        Subtraction
                    </button>
                    <button class="operation-btn" data-operation="dotProduct">
                        <i class="fas fa-circle"></i>
                        Dot Product
                    </button>
                    <button class="operation-btn" data-operation="crossProduct">
                        <i class="fas fa-times"></i>
                        Cross Product
                    </button>
                    <button class="operation-btn" data-operation="magnitude">
                        <i class="fas fa-ruler"></i>
                        Magnitude
                    </button>
                    <button class="operation-btn" data-operation="normalization">
                        <i class="fas fa-compress"></i>
                        Normalization
                    </button>
                    <button class="operation-btn" data-operation="scalarMultiplication">
                        <i class="fas fa-arrows-alt-h"></i>
                        Scalar Multiplication
                    </button>
                    <button class="operation-btn" data-operation="angleBetween">
                        <i class="fas fa-angle-left"></i>
                        Angle Between
                    </button>
                    <button class="operation-btn" data-operation="projection">
                        <i class="fas fa-project-diagram"></i>
                        Projection
                    </button>
                    <button class="operation-btn" data-operation="distance">
                        <i class="fas fa-arrows-alt"></i>
                        Distance
                    </button>
                </div>
                
                <div class="scalar-input" style="display: none; margin-top: 15px;">
                    <label for="scalar-value">
                        <i class="fas fa-expand"></i>
                        Scalar Value
                    </label>
                    <input type="number" id="scalar-value" value="2" step="0.1">
                </div>
                
                <button id="calculate-btn" style="width: 100%; padding: 15px; background: var(--accent); color: white; border: none; border-radius: 8px; font-size: 1.1rem; cursor: pointer; margin-top: 20px; display: flex; align-items: center; justify-content: center; gap: 10px;">
                    <i class="fas fa-calculator"></i>
                    Calculate & Visualize
                </button>
            </div>
            
            <div class="visualization-section">
                <h2 class="section-title">
                    <i class="fas fa-chart-line section-icon"></i>
                    Visualization
                </h2>
                
                <div class="visualization-area">
                    <div class="canvas-container">
                        <canvas id="vectorCanvas"></canvas>
                    </div>
                </div>
                
                <div class="result-display">
                    <div class="result-title">
                        <i class="fas fa-poll feature-icon"></i>
                        Result:
                    </div>
                    <div class="result-value" id="result-value">Select an operation and click calculate</div>
                    
                    <div class="vector-representation">
                        <span class="vector" id="vector-a">A = (3, 4)</span>
                        <span class="operation-symbol" id="operation-symbol">+</span>
                        <span class="vector" id="vector-b">B = (1, -2)</span>
                        <span class="operation-symbol">=</span>
                        <span class="vector" id="vector-result">Result</span>
                    </div>
                    
                    <div class="steps-container" id="steps-container">
                        <!-- Steps will be generated here -->
                    </div>
                </div>
                
                <div class="operation-info">
                    <h4>
                        <i class="fas fa-info-circle"></i>
                        About this operation:
                    </h4>
                    <p id="operation-description">Select an operation to see its description here.</p>
                </div>
            </div>
        </div>
        
        <!-- AI Features Section -->
        <div class="ai-features-section">
            <h2 class="section-title">
                <i class="fas fa-robot section-icon"></i>
                AI-Powered Features
            </h2>
            
            <!-- AI Operation Suggestions -->
            <div class="ai-feature">
                <div class="ai-feature-title">
                    <span class="ai-icon">ü§ñ</span>
                    <h3>AI Operation Suggestions</h3>
                </div>
                <p>Based on your input vectors, AI suggests relevant operations:</p>
                <button id="ai-suggest-btn" class="ai-btn">
                    <i class="fas fa-lightbulb"></i>
                    Get AI Suggestions
                </button>
                <div class="ai-suggestions" id="ai-suggestions">
                    <!-- AI suggestions will appear here -->
                </div>
            </div>
            
            <!-- Natural Language Commands -->
            <div class="ai-feature">
                <div class="ai-feature-title">
                    <span class="ai-icon">üé§</span>
                    <h3>Natural Language Commands</h3>
                </div>
                <p>Describe an operation in plain English:</p>
                <div class="ai-input-group">
                    <input type="text" class="ai-input" id="nl-input" placeholder="e.g., 'add vector A to B'">
                    <button class="voice-btn" id="voice-btn" title="Voice Input">
                        <i class="fas fa-microphone"></i>
                    </button>
                    <button id="nl-execute-btn" class="ai-btn">
                        <i class="fas fa-play"></i>
                        Execute
                    </button>
                </div>
            </div>
            
            <!-- AI-Powered Explanations -->
            <div class="ai-feature">
                <div class="ai-feature-title">
                    <span class="ai-icon">üß†</span>
                    <h3>AI-Powered Explanations</h3>
                </div>
                <p>Get detailed, AI-generated explanations for operations:</p>
                <div class="ai-toggle">
                    <label class="toggle-switch">
                        <input type="checkbox" id="ai-explanations-toggle">
                        <span class="toggle-slider"></span>
                    </label>
                    <span>Enable AI Explanations</span>
                </div>
                <div class="ai-explanation" id="ai-explanation">
                    <div class="ai-explanation-title">
                        <i class="fas fa-graduation-cap"></i>
                        AI Explanation:
                    </div>
                    <div id="ai-explanation-content"></div>
                </div>
            </div>
        </div>
        
        <div class="footer">
            <p>
                <i class="fas fa-code"></i>
                Vector Operations Visualizer ‚Ä¢ Created with HTML, CSS, and JavaScript
            </p>
        </div>
    </div>

    
    <script>
        // DOM elements
        const operationButtons = document.querySelectorAll('.operation-btn');
        const calculateBtn = document.getElementById('calculate-btn');
        const resultValue = document.getElementById('result-value');
        const stepsContainer = document.getElementById('steps-container');
        const operationDescription = document.getElementById('operation-description');
        const scalarInputContainer = document.querySelector('.scalar-input');
        const scalarValueInput = document.getElementById('scalar-value');
        const vectorAElement = document.getElementById('vector-a');
        const vectorBElement = document.getElementById('vector-b');
        const operationSymbol = document.getElementById('operation-symbol');
        const vectorResult = document.getElementById('vector-result');
        
        // AI Feature Elements
        const aiSuggestBtn = document.getElementById('ai-suggest-btn');
        const aiSuggestionsContainer = document.getElementById('ai-suggestions');
        const nlInput = document.getElementById('nl-input');
        const nlExecuteBtn = document.getElementById('nl-execute-btn');
        const voiceBtn = document.getElementById('voice-btn');
        const aiExplanationsToggle = document.getElementById('ai-explanations-toggle');
        const aiExplanation = document.getElementById('ai-explanation');
        const aiExplanationContent = document.getElementById('ai-explanation-content');
        
        // Canvas setup
        const canvas = document.getElementById('vectorCanvas');
        const ctx = canvas.getContext('2d');
        
        // Set canvas size to match container
        function resizeCanvas() {
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
        }
        
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();
        
        // Vector class
        class Vector {
            constructor(x, y) {
                this.x = x;
                this.y = y;
            }
            
            // Vector operations
            add(v) {
                return new Vector(this.x + v.x, this.y + v.y);
            }
            
            subtract(v) {
                return new Vector(this.x - v.x, this.y - v.y);
            }
            
            dot(v) {
                return this.x * v.x + this.y * v.y;
            }
            
            cross(v) {
                return this.x * v.y - this.y * v.x;
            }
            
            magnitude() {
                return Math.sqrt(this.x * this.x + this.y * this.y);
            }
            
            normalize() {
                const mag = this.magnitude();
                if (mag === 0) return new Vector(0, 0);
                return new Vector(this.x / mag, this.y / mag);
            }
            
            scale(scalar) {
                return new Vector(this.x * scalar, this.y * scalar);
            }
            
            angleBetween(v) {
                const dotProduct = this.dot(v);
                const magProduct = this.magnitude() * v.magnitude();
                if (magProduct === 0) return 0;
                return Math.acos(dotProduct / magProduct) * (180 / Math.PI);
            }
            
            projectOnto(v) {
                const scalar = this.dot(v) / v.dot(v);
                return v.scale(scalar);
            }
            
            distanceTo(v) {
                return this.subtract(v).magnitude();
            }
        }
        
        // Current vectors and operation
        let vectorA = new Vector(3, 4);
        let vectorB = new Vector(1, -2);
        let currentOperation = 'addition';
        let scalarValue = 2;
        
        // Operation descriptions
        const operationDescriptions = {
            addition: "Vector addition is performed by adding corresponding components. Geometrically, it represents the diagonal of the parallelogram formed by the two vectors.",
            subtraction: "Vector subtraction is performed by subtracting corresponding components. Geometrically, it represents the vector from the tip of the second vector to the tip of the first.",
            dotProduct: "The dot product (or scalar product) measures the similarity between two vectors. It's calculated by multiplying corresponding components and summing the results.",
            crossProduct: "In 2D, the cross product returns a scalar representing the signed area of the parallelogram spanned by the two vectors. A positive value indicates counterclockwise orientation.",
            magnitude: "The magnitude (or length) of a vector is calculated using the Pythagorean theorem. It represents the distance from the origin to the point defined by the vector.",
            normalization: "Normalization creates a unit vector (length 1) in the same direction as the original vector. This is done by dividing each component by the vector's magnitude.",
            scalarMultiplication: "Scalar multiplication scales a vector by a real number. Each component is multiplied by the scalar, changing the vector's length but not its direction (unless the scalar is negative).",
            angleBetween: "The angle between two vectors is calculated using the dot product formula. It represents the smallest angle needed to rotate one vector to align with the other.",
            projection: "The projection of vector A onto vector B is the component of A that lies in the direction of B. It's calculated using the dot product and scaling.",
            distance: "The distance between two vectors is the length of the vector connecting their endpoints. It's calculated as the magnitude of their difference."
        };
        
        // AI Explanations (simulated)
        const aiExplanations = {
            addition: "When we add vectors A and B, we're essentially combining their directional influences. Think of it as walking in the direction of A, then continuing in the direction of B. The resulting vector shows your final displacement from the starting point. This operation is commutative (A+B = B+A) and is fundamental in physics for combining forces or velocities.",
            subtraction: "Vector subtraction A - B can be thought of as 'A plus the opposite of B'. Geometrically, it represents the vector needed to go from the tip of B to the tip of A. This is useful in physics for calculating relative velocity or displacement between two points.",
            dotProduct: "The dot product measures how much two vectors point in the same direction. If the dot product is positive, the vectors generally point in similar directions; if negative, they point in opposite directions. A zero dot product indicates perpendicular vectors. This operation is used in physics to calculate work done by a force.",
            crossProduct: "In 2D, the cross product gives us a scalar value representing the signed area of the parallelogram formed by the two vectors. The sign tells us about the orientation: positive if the rotation from A to B is counterclockwise, negative if clockwise. In 3D, this becomes a vector perpendicular to both A and B.",
            magnitude: "The magnitude (or length) of a vector represents its 'strength' regardless of direction. It's calculated using the Pythagorean theorem, which you might recall from geometry. This is essential for normalizing vectors or calculating distances in vector spaces.",
            normalization: "Normalization creates a unit vector - a vector with length 1 that points in the same direction as the original. This is useful when we care about direction but not magnitude, such as in computer graphics for surface normals or in physics for direction vectors.",
            scalarMultiplication: "Scalar multiplication stretches or shrinks a vector by a factor. If the scalar is negative, it also reverses the direction. This operation preserves the vector's direction (unless the scalar is negative) while changing its magnitude. It's used in scaling transformations and in physics for concepts like momentum.",
            angleBetween: "The angle between vectors tells us how different their directions are. We calculate this using the dot product formula, which relates the cosine of the angle to the dot product and magnitudes. An angle of 0¬∞ means they point in the same direction, 90¬∞ means they're perpendicular, and 180¬∞ means they point in opposite directions.",
            projection: "The projection of A onto B represents the component of A that lies in the direction of B. Imagine shining a light perpendicular to B and seeing the shadow of A cast on B - that's the projection. This is useful in physics for decomposing forces and in computer graphics for various calculations.",
            distance: "The distance between vectors A and B is simply the length of the vector connecting their endpoints (A - B). This is the straight-line distance between the points represented by these vectors. It's a fundamental concept in geometry, physics, and machine learning for measuring similarity."
        };
        
        // Initialize with first operation selected
        operationButtons[0].classList.add('active');
        operationDescription.textContent = operationDescriptions[currentOperation];
        
        // Event listeners
        operationButtons.forEach(button => {
            button.addEventListener('click', () => {
                operationButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                currentOperation = button.dataset.operation;
                operationDescription.textContent = operationDescriptions[currentOperation];
                
                // Show/hide scalar input based on operation
                if (currentOperation === 'scalarMultiplication') {
                    scalarInputContainer.style.display = 'block';
                } else {
                    scalarInputContainer.style.display = 'none';
                }
                
                // Update AI explanation if enabled
                if (aiExplanationsToggle.checked) {
                    updateAIExplanation();
                }
                
                calculateOperation();
            });
        });
        
        calculateBtn.addEventListener('click', calculateOperation);
        
        // Input change handlers
        document.getElementById('a-x').addEventListener('input', updateVectors);
        document.getElementById('a-y').addEventListener('input', updateVectors);
        document.getElementById('b-x').addEventListener('input', updateVectors);
        document.getElementById('b-y').addEventListener('input', updateVectors);
        scalarValueInput.addEventListener('input', updateScalar);
        
        // AI Feature Event Listeners
        aiSuggestBtn.addEventListener('click', getAISuggestions);
        nlExecuteBtn.addEventListener('click', executeNaturalLanguageCommand);
        voiceBtn.addEventListener('click', toggleVoiceInput);
        aiExplanationsToggle.addEventListener('change', toggleAIExplanations);
        
        function updateVectors() {
            vectorA = new Vector(
                parseFloat(document.getElementById('a-x').value) || 0,
                parseFloat(document.getElementById('a-y').value) || 0
            );
            
            vectorB = new Vector(
                parseFloat(document.getElementById('b-x').value) || 0,
                parseFloat(document.getElementById('b-y').value) || 0
            );
            
            // Update vector representations
            vectorAElement.textContent = `A = (${vectorA.x}, ${vectorA.y})`;
            vectorBElement.textContent = `B = (${vectorB.x}, ${vectorB.y})`;
            
            calculateOperation();
        }
        
        function updateScalar() {
            scalarValue = parseFloat(scalarValueInput.value) || 0;
            calculateOperation();
        }
        
        // Calculate the selected operation
        function calculateOperation() {
            let result;
            let steps = [];
            
            // Update operation symbol
            switch(currentOperation) {
                case 'addition': operationSymbol.textContent = '+'; break;
                case 'subtraction': operationSymbol.textContent = '-'; break;
                case 'dotProduct': operationSymbol.textContent = '‚Ä¢'; break;
                case 'crossProduct': operationSymbol.textContent = '√ó'; break;
                case 'magnitude': operationSymbol.textContent = '|A|'; break;
                case 'normalization': operationSymbol.textContent = '√Ç'; break;
                case 'scalarMultiplication': operationSymbol.textContent = '√ó'; break;
                case 'angleBetween': operationSymbol.textContent = '‚à†'; break;
                case 'projection': operationSymbol.textContent = 'proj'; break;
                case 'distance': operationSymbol.textContent = 'd'; break;
            }
            
            // Perform the selected operation
            switch(currentOperation) {
                case 'addition':
                    result = vectorA.add(vectorB);
                    steps = [
                        `Vector addition is performed component-wise.`,
                        `A + B = (${vectorA.x} + ${vectorB.x}, ${vectorA.y} + ${vectorB.y})`,
                        `A + B = (${vectorA.x + vectorB.x}, ${vectorA.y + vectorB.y})`,
                        `The result is a new vector with components (${result.x}, ${result.y}).`,
                        `Geometrically, this is the diagonal of the parallelogram formed by A and B.`
                    ];
                    vectorResult.textContent = `(${result.x.toFixed(2)}, ${result.y.toFixed(2)})`;
                    break;
                    
                case 'subtraction':
                    result = vectorA.subtract(vectorB);
                    steps = [
                        `Vector subtraction is performed component-wise.`,
                        `A - B = (${vectorA.x} - ${vectorB.x}, ${vectorA.y} - ${vectorB.y})`,
                        `A - B = (${vectorA.x - vectorB.x}, ${vectorA.y - vectorB.y})`,
                        `The result is a new vector with components (${result.x}, ${result.y}).`,
                        `Geometrically, this vector points from B to A.`
                    ];
                    vectorResult.textContent = `(${result.x.toFixed(2)}, ${result.y.toFixed(2)})`;
                    break;
                    
                case 'dotProduct':
                    result = vectorA.dot(vectorB);
                    steps = [
                        `The dot product is calculated as A ‚Ä¢ B = A‚ÇìB‚Çì + A·µßB·µß.`,
                        `A ‚Ä¢ B = (${vectorA.x} √ó ${vectorB.x}) + (${vectorA.y} √ó ${vectorB.y})`,
                        `A ‚Ä¢ B = ${vectorA.x * vectorB.x} + ${vectorA.y * vectorB.y}`,
                        `A ‚Ä¢ B = ${result}`,
                        `This scalar value measures the alignment of the two vectors.`
                    ];
                    vectorResult.textContent = result.toFixed(2);
                    break;
                    
                case 'crossProduct':
                    result = vectorA.cross(vectorB);
                    steps = [
                        `In 2D, the cross product is calculated as A √ó B = A‚ÇìB·µß - A·µßB‚Çì.`,
                        `A √ó B = (${vectorA.x} √ó ${vectorB.y}) - (${vectorA.y} √ó ${vectorB.x})`,
                        `A √ó B = ${vectorA.x * vectorB.y} - ${vectorA.y * vectorB.x}`,
                        `A √ó B = ${result}`,
                        `This scalar represents the signed area of the parallelogram spanned by A and B.`
                    ];
                    vectorResult.textContent = result.toFixed(2);
                    break;
                    
                case 'magnitude':
                    result = vectorA.magnitude();
                    steps = [
                        `The magnitude is calculated using the Pythagorean theorem.`,
                        `|A| = ‚àö(A‚Çì¬≤ + A·µß¬≤)`,
                        `|A| = ‚àö(${vectorA.x}¬≤ + ${vectorA.y}¬≤)`,
                        `|A| = ‚àö(${vectorA.x * vectorA.x} + ${vectorA.y * vectorA.y})`,
                        `|A| = ‚àö(${vectorA.x * vectorA.x + vectorA.y * vectorA.y})`,
                        `|A| = ${result.toFixed(2)}`
                    ];
                    vectorResult.textContent = result.toFixed(2);
                    break;
                    
                case 'normalization':
                    result = vectorA.normalize();
                    steps = [
                        `Normalization creates a unit vector in the same direction.`,
                        `√Ç = A / |A|`,
                        `First, calculate |A| = ‚àö(${vectorA.x}¬≤ + ${vectorA.y}¬≤) = ${vectorA.magnitude().toFixed(2)}`,
                        `Then, √Ç = (${vectorA.x}/${vectorA.magnitude().toFixed(2)}, ${vectorA.y}/${vectorA.magnitude().toFixed(2)})`,
                        `√Ç = (${result.x.toFixed(2)}, ${result.y.toFixed(2)})`,
                        `The resulting vector has magnitude 1.`
                    ];
                    vectorResult.textContent = `(${result.x.toFixed(2)}, ${result.y.toFixed(2)})`;
                    break;
                    
                case 'scalarMultiplication':
                    result = vectorA.scale(scalarValue);
                    steps = [
                        `Scalar multiplication scales the vector by ${scalarValue}.`,
                        `${scalarValue} √ó A = (${scalarValue} √ó ${vectorA.x}, ${scalarValue} √ó ${vectorA.y})`,
                        `${scalarValue} √ó A = (${scalarValue * vectorA.x}, ${scalarValue * vectorA.y})`,
                        `The result is a new vector with components (${result.x}, ${result.y}).`,
                        `This operation changes the vector's length but not its direction (unless the scalar is negative).`
                    ];
                    vectorResult.textContent = `(${result.x.toFixed(2)}, ${result.y.toFixed(2)})`;
                    break;
                    
                case 'angleBetween':
                    result = vectorA.angleBetween(vectorB);
                    steps = [
                        `The angle between vectors is calculated using the dot product formula.`,
                        `cos(Œ∏) = (A ‚Ä¢ B) / (|A| √ó |B|)`,
                        `First, calculate A ‚Ä¢ B = ${vectorA.dot(vectorB).toFixed(2)}`,
                        `Then, |A| = ${vectorA.magnitude().toFixed(2)}, |B| = ${vectorB.magnitude().toFixed(2)}`,
                        `So, cos(Œ∏) = ${vectorA.dot(vectorB).toFixed(2)} / (${vectorA.magnitude().toFixed(2)} √ó ${vectorB.magnitude().toFixed(2)})`,
                        `cos(Œ∏) = ${vectorA.dot(vectorB).toFixed(2)} / ${(vectorA.magnitude() * vectorB.magnitude()).toFixed(2)}`,
                        `cos(Œ∏) = ${(vectorA.dot(vectorB) / (vectorA.magnitude() * vectorB.magnitude())).toFixed(2)}`,
                        `Œ∏ = cos‚Åª¬π(${(vectorA.dot(vectorB) / (vectorA.magnitude() * vectorB.magnitude())).toFixed(2)}) = ${result.toFixed(2)}¬∞`
                    ];
                    vectorResult.textContent = `${result.toFixed(2)}¬∞`;
                    break;
                    
                case 'projection':
                    result = vectorA.projectOnto(vectorB);
                    steps = [
                        `The projection of A onto B is calculated as: proj_B A = ((A ‚Ä¢ B) / (B ‚Ä¢ B)) √ó B`,
                        `First, calculate A ‚Ä¢ B = ${vectorA.dot(vectorB).toFixed(2)}`,
                        `Then, B ‚Ä¢ B = ${vectorB.dot(vectorB).toFixed(2)}`,
                        `So, scalar = (${vectorA.dot(vectorB).toFixed(2)}) / (${vectorB.dot(vectorB).toFixed(2)}) = ${(vectorA.dot(vectorB) / vectorB.dot(vectorB)).toFixed(2)}`,
                        `Finally, multiply this scalar by B: (${(vectorA.dot(vectorB) / vectorB.dot(vectorB)).toFixed(2)} √ó ${vectorB.x}, ${(vectorA.dot(vectorB) / vectorB.dot(vectorB)).toFixed(2)} √ó ${vectorB.y})`,
                        `proj_B A = (${result.x.toFixed(2)}, ${result.y.toFixed(2)})`
                    ];
                    vectorResult.textContent = `(${result.x.toFixed(2)}, ${result.y.toFixed(2)})`;
                    break;
                    
                case 'distance':
                    result = vectorA.distanceTo(vectorB);
                    steps = [
                        `The distance between A and B is |A - B|.`,
                        `First, calculate A - B = (${vectorA.x} - ${vectorB.x}, ${vectorA.y} - ${vectorB.y}) = (${vectorA.x - vectorB.x}, ${vectorA.y - vectorB.y})`,
                        `Then, calculate the magnitude: ‚àö((${vectorA.x - vectorB.x})¬≤ + (${vectorA.y - vectorB.y})¬≤)`,
                        `Distance = ‚àö(${Math.pow(vectorA.x - vectorB.x, 2)} + ${Math.pow(vectorA.y - vectorB.y, 2)})`,
                        `Distance = ‚àö(${Math.pow(vectorA.x - vectorB.x, 2) + Math.pow(vectorA.y - vectorB.y, 2)})`,
                        `Distance = ${result.toFixed(2)}`
                    ];
                    vectorResult.textContent = result.toFixed(2);
                    break;
            }
            
            // Display the result
            if (typeof result === 'number') {
                resultValue.textContent = result.toFixed(2);
            } else if (result instanceof Vector) {
                resultValue.textContent = `(${result.x.toFixed(2)}, ${result.y.toFixed(2)})`;
            }
            
            // Display steps
            displaySteps(steps);
            
            // Draw vectors
            drawVectors();
            
            // Update AI explanation if enabled
            if (aiExplanationsToggle.checked) {
                updateAIExplanation();
            }
        }
        
        // Display calculation steps
        function displaySteps(steps) {
            stepsContainer.innerHTML = '';
            
            steps.forEach((step, index) => {
                const stepElement = document.createElement('div');
                stepElement.className = 'step';
                stepElement.innerHTML = `<span class="step-number">${index + 1}</span> ${step}`;
                stepsContainer.appendChild(stepElement);
            });
        }
        
        // Draw vectors on canvas
        function drawVectors() {
            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Set origin at center of canvas
            const originX = canvas.width / 2;
            const originY = canvas.height / 2;
            
            // Calculate scale to fit vectors in canvas
            const maxVectorLength = Math.max(
                vectorA.magnitude(),
                vectorB.magnitude(),
                currentOperation === 'addition' ? vectorA.add(vectorB).magnitude() : 0,
                currentOperation === 'subtraction' ? vectorA.subtract(vectorB).magnitude() : 0
            );
            
            const scale = Math.min(canvas.width, canvas.height) / 3 / (maxVectorLength || 1);
            
            // Draw grid
            drawGrid(originX, originY);
            
            // Draw axes
            drawAxes(originX, originY);
            
            // Draw vectors based on operation
            switch(currentOperation) {
                case 'addition':
                    drawVector(originX, originY, vectorA, scale, 'A', '#4a6fa5');
                    drawVector(originX, originY, vectorB, scale, 'B', '#6b8cbc');
                    drawVector(originX, originY, vectorA.add(vectorB), scale, 'A+B', '#ff6b6b');
                    drawVector(originX + vectorA.x * scale, originY + vectorA.y * scale, vectorB, scale, '', '#6b8cbc', 0.5);
                    break;
                    
                case 'subtraction':
                    drawVector(originX, originY, vectorA, scale, 'A', '#4a6fa5');
                    drawVector(originX, originY, vectorB, scale, 'B', '#6b8cbc');
                    drawVector(originX, originY, vectorA.subtract(vectorB), scale, 'A-B', '#ff6b6b');
                    drawVector(originX + vectorA.subtract(vectorB).x * scale, originY + vectorA.subtract(vectorB).y * scale, vectorB, scale, '', '#6b8cbc', 0.5);
                    break;
                    
                case 'dotProduct':
                case 'crossProduct':
                case 'angleBetween':
                    drawVector(originX, originY, vectorA, scale, 'A', '#4a6fa5');
                    drawVector(originX, originY, vectorB, scale, 'B', '#6b8cbc');
                    
                    // Draw angle between vectors
                    if (currentOperation === 'angleBetween') {
                        drawAngle(originX, originY, vectorA, vectorB, scale);
                    }
                    break;
                    
                case 'magnitude':
                    drawVector(originX, originY, vectorA, scale, 'A', '#4a6fa5');
                    break;
                    
                case 'normalization':
                    drawVector(originX, originY, vectorA, scale, 'A', '#4a6fa5');
                    drawVector(originX, originY, vectorA.normalize(), scale, '√Ç', '#ff6b6b');
                    break;
                    
                case 'scalarMultiplication':
                    drawVector(originX, originY, vectorA, scale, 'A', '#4a6fa5');
                    drawVector(originX, originY, vectorA.scale(scalarValue), scale, `${scalarValue}A`, '#ff6b6b');
                    break;
                    
                case 'projection':
                    drawVector(originX, originY, vectorA, scale, 'A', '#4a6fa5');
                    drawVector(originX, originY, vectorB, scale, 'B', '#6b8cbc');
                    drawVector(originX, originY, vectorA.projectOnto(vectorB), scale, 'proj_B A', '#ff6b6b');
                    
                    // Draw perpendicular line
                    const proj = vectorA.projectOnto(vectorB);
                    ctx.beginPath();
                    ctx.moveTo(originX + proj.x * scale, originY + proj.y * scale);
                    ctx.lineTo(originX + vectorA.x * scale, originY + vectorA.y * scale);
                    ctx.strokeStyle = 'rgba(0, 0, 0, 0.3)';
                    ctx.setLineDash([5, 5]);
                    ctx.stroke();
                    ctx.setLineDash([]);
                    break;
                    
                case 'distance':
                    drawVector(originX, originY, vectorA, scale, 'A', '#4a6fa5');
                    drawVector(originX, originY, vectorB, scale, 'B', '#6b8cbc');
                    
                    // Draw line between vector tips
                    ctx.beginPath();
                    ctx.moveTo(originX + vectorA.x * scale, originY + vectorA.y * scale);
                    ctx.lineTo(originX + vectorB.x * scale, originY + vectorB.y * scale);
                    ctx.strokeStyle = '#ff6b6b';
                    ctx.lineWidth = 2;
                    ctx.stroke();
                    
                    // Add distance label
                    const midX = (vectorA.x + vectorB.x) / 2 * scale + originX;
                    const midY = (vectorA.y + vectorB.y) / 2 * scale + originY;
                    ctx.fillStyle = '#ff6b6b';
                    ctx.font = '12px Arial';
                    ctx.fillText(`d = ${vectorA.distanceTo(vectorB).toFixed(2)}`, midX, midY - 5);
                    break;
            }
        }
        
        // Draw a vector
        function drawVector(originX, originY, vector, scale, label, color, opacity = 1) {
            const endX = originX + vector.x * scale;
            const endY = originY + vector.y * scale;
            
            // Draw line
            ctx.beginPath();
            ctx.moveTo(originX, originY);
            ctx.lineTo(endX, endY);
            ctx.strokeStyle = color;
            ctx.globalAlpha = opacity;
            ctx.lineWidth = 3;
            ctx.stroke();
            ctx.globalAlpha = 1;
            
            // Draw arrowhead
            const angle = Math.atan2(vector.y, vector.x);
            const arrowLength = 10;
            
            ctx.beginPath();
            ctx.moveTo(endX, endY);
            ctx.lineTo(
                endX - arrowLength * Math.cos(angle - Math.PI / 6),
                endY - arrowLength * Math.sin(angle - Math.PI / 6)
            );
            ctx.lineTo(
                endX - arrowLength * Math.cos(angle + Math.PI / 6),
                endY - arrowLength * Math.sin(angle + Math.PI / 6)
            );
            ctx.closePath();
            ctx.fillStyle = color;
            ctx.globalAlpha = opacity;
            ctx.fill();
            ctx.globalAlpha = 1;
            
            // Draw label
            if (label) {
                const labelX = endX + 10 * Math.cos(angle);
                const labelY = endY + 10 * Math.sin(angle);
                
                ctx.fillStyle = color;
                ctx.font = '14px Arial';
                ctx.fillText(label, labelX, labelY);
            }
        }
        
        // Draw grid
        function drawGrid(originX, originY) {
            const gridSize = 50;
            
            ctx.strokeStyle = 'rgba(0, 0, 0, 0.1)';
            ctx.lineWidth = 1;
            
            // Vertical lines
            for (let x = originX % gridSize; x < canvas.width; x += gridSize) {
                ctx.beginPath();
                ctx.moveTo(x, 0);
                ctx.lineTo(x, canvas.height);
                ctx.stroke();
            }
            
            // Horizontal lines
            for (let y = originY % gridSize; y < canvas.height; y += gridSize) {
                ctx.beginPath();
                ctx.moveTo(0, y);
                ctx.lineTo(canvas.width, y);
                ctx.stroke();
            }
        }
        
        // Draw axes
        function drawAxes(originX, originY) {
            ctx.strokeStyle = 'rgba(0, 0, 0, 0.5)';
            ctx.lineWidth = 2;
            
            // X-axis
            ctx.beginPath();
            ctx.moveTo(0, originY);
            ctx.lineTo(canvas.width, originY);
            ctx.stroke();
            
            // Y-axis
            ctx.beginPath();
            ctx.moveTo(originX, 0);
            ctx.lineTo(originX, canvas.height);
            ctx.stroke();
            
            // Axis labels
            ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';
            ctx.font = '14px Arial';
            ctx.fillText('x', canvas.width - 10, originY - 10);
            ctx.fillText('y', originX + 10, 10);
        }
        
        // Draw angle between vectors
        function drawAngle(originX, originY, v1, v2, scale) {
            const angle1 = Math.atan2(v1.y, v1.x);
            const angle2 = Math.atan2(v2.y, v2.x);
            const radius = 30;
            
            ctx.beginPath();
            ctx.arc(originX, originY, radius, angle1, angle2, angle1 > angle2);
            ctx.strokeStyle = '#ff6b6b';
            ctx.lineWidth = 2;
            ctx.stroke();
            
            // Angle label
            const midAngle = (angle1 + angle2) / 2;
            const labelX = originX + (radius + 15) * Math.cos(midAngle);
            const labelY = originY + (radius + 15) * Math.sin(midAngle);
            
            ctx.fillStyle = '#ff6b6b';
            ctx.font = '12px Arial';
            ctx.fillText(`${v1.angleBetween(v2).toFixed(1)}¬∞`, labelX, labelY);
        }
        
        // AI Features Implementation
        
        // Get AI suggestions for operations
        function getAISuggestions() {
            // Simulate AI analysis of vectors
            aiSuggestionsContainer.innerHTML = '';
            
            // Analyze vectors to determine which operations would be most relevant
            const suggestions = [];
            
            // Check if vectors are similar
            if (vectorA.dot(vectorB) > 0 && Math.abs(vectorA.angleBetween(vectorB)) < 30) {
                suggestions.push('dotProduct');
            }
            
            // Check if vectors are perpendicular
            if (Math.abs(vectorA.dot(vectorB)) < 0.1) {
                suggestions.push('crossProduct');
            }
            
            // Check if vectors have significantly different magnitudes
            if (Math.abs(vectorA.magnitude() - vectorB.magnitude()) > 2) {
                suggestions.push('distance');
            }
            
            // Always suggest these basic operations
            suggestions.push('addition', 'subtraction', 'angleBetween');
            
            // Remove duplicates
            const uniqueSuggestions = [...new Set(suggestions)];
            
            // Create suggestion buttons
            uniqueSuggestions.forEach(op => {
                const suggestion = document.createElement('div');
                suggestion.className = 'ai-suggestion';
                suggestion.textContent = formatOperationName(op);
                suggestion.addEventListener('click', () => {
                    // Set the operation and calculate
                    operationButtons.forEach(btn => btn.classList.remove('active'));
                    document.querySelector(`[data-operation="${op}"]`).classList.add('active');
                    currentOperation = op;
                    operationDescription.textContent = operationDescriptions[currentOperation];
                    
                    // Show/hide scalar input based on operation
                    if (currentOperation === 'scalarMultiplication') {
                        scalarInputContainer.style.display = 'block';
                    } else {
                        scalarInputContainer.style.display = 'none';
                    }
                    
                    calculateOperation();
                });
                
                aiSuggestionsContainer.appendChild(suggestion);
            });
            
            // If no specific suggestions, show a message
            if (uniqueSuggestions.length === 0) {
                aiSuggestionsContainer.innerHTML = '<p>Try basic operations like addition or dot product.</p>';
            }
        }
        
        // Format operation name for display
        function formatOperationName(operation) {
            const names = {
                addition: 'Addition',
                subtraction: 'Subtraction',
                dotProduct: 'Dot Product',
                crossProduct: 'Cross Product',
                magnitude: 'Magnitude',
                normalization: 'Normalization',
                scalarMultiplication: 'Scalar Multiplication',
                angleBetween: 'Angle Between',
                projection: 'Projection',
                distance: 'Distance'
            };
            
            return names[operation] || operation;
        }
        
        // Execute natural language command
        function executeNaturalLanguageCommand() {
            const command = nlInput.value.toLowerCase().trim();
            
            if (!command) return;
            
            // Simple NLP for demonstration
            let operation = null;
            
            if (command.includes('add') || command.includes('sum') || command.includes('plus')) {
                operation = 'addition';
            } else if (command.includes('subtract') || command.includes('minus') || command.includes('difference')) {
                operation = 'subtraction';
            } else if (command.includes('dot') || command.includes('scalar product')) {
                operation = 'dotProduct';
            } else if (command.includes('cross') || command.includes('vector product')) {
                operation = 'crossProduct';
            } else if (command.includes('magnitude') || command.includes('length')) {
                operation = 'magnitude';
            } else if (command.includes('normalize') || command.includes('unit')) {
                operation = 'normalization';
            } else if (command.includes('scale') || command.includes('multiply by')) {
                operation = 'scalarMultiplication';
                
                // Extract scalar value if mentioned
                const scalarMatch = command.match(/(\d+)/);
                if (scalarMatch) {
                    scalarValueInput.value = scalarMatch[1];
                    scalarValue = parseFloat(scalarMatch[1]);
                }
            } else if (command.includes('angle')) {
                operation = 'angleBetween';
            } else if (command.includes('project')) {
                operation = 'projection';
            } else if (command.includes('distance')) {
                operation = 'distance';
            }
            
            if (operation) {
                // Set the operation and calculate
                operationButtons.forEach(btn => btn.classList.remove('active'));
                document.querySelector(`[data-operation="${operation}"]`).classList.add('active');
                currentOperation = operation;
                operationDescription.textContent = operationDescriptions[currentOperation];
                
                // Show/hide scalar input based on operation
                if (currentOperation === 'scalarMultiplication') {
                    scalarInputContainer.style.display = 'block';
                } else {
                    scalarInputContainer.style.display = 'none';
                }
                
                calculateOperation();
                
                // Show success feedback
                nlInput.value = '';
                nlInput.placeholder = `Executed: ${formatOperationName(operation)}`;
                setTimeout(() => {
                    nlInput.placeholder = "e.g., 'add vector A to B'";
                }, 3000);
            } else {
                // Show error feedback
                nlInput.value = '';
                nlInput.placeholder = "Sorry, I didn't understand that command";
                setTimeout(() => {
                    nlInput.placeholder = "e.g., 'add vector A to B'";
                }, 3000);
            }
        }
        
        // Toggle voice input
        function toggleVoiceInput() {
            if (!('webkitSpeechRecognition' in window) && !('SpeechRecognition' in window)) {
                alert('Your browser does not support speech recognition. Try Chrome or Edge.');
                return;
            }
            
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            const recognition = new SpeechRecognition();
            
            recognition.continuous = false;
            recognition.interimResults = false;
            recognition.lang = 'en-US';
            
            if (voiceBtn.classList.contains('listening')) {
                // Stop listening
                recognition.stop();
                voiceBtn.classList.remove('listening');
            } else {
                // Start listening
                recognition.start();
                voiceBtn.classList.add('listening');
                
                recognition.onresult = function(event) {
                    const transcript = event.results[0][0].transcript;
                    nlInput.value = transcript;
                    voiceBtn.classList.remove('listening');
                    
                    // Execute the command
                    executeNaturalLanguageCommand();
                };
                
                recognition.onerror = function(event) {
                    console.error('Speech recognition error', event.error);
                    voiceBtn.classList.remove('listening');
                };
                
                recognition.onend = function() {
                    voiceBtn.classList.remove('listening');
                };
            }
        }
        
        // Toggle AI explanations
        function toggleAIExplanations() {
            if (aiExplanationsToggle.checked) {
                aiExplanation.classList.add('active');
                updateAIExplanation();
            } else {
                aiExplanation.classList.remove('active');
            }
        }
        
        // Update AI explanation
        function updateAIExplanation() {
            if (aiExplanations[currentOperation]) {
                aiExplanationContent.textContent = aiExplanations[currentOperation];
            } else {
                aiExplanationContent.textContent = "AI explanation not available for this operation.";
            }
        }
       // Navigation buttons functionality
document.addEventListener('DOMContentLoaded', function() {
    // Get all navigation buttons
    const navButtons = document.querySelectorAll('.nav-btn');
    
    // Add click event listeners to all buttons
    navButtons.forEach(button => {
        button.addEventListener('click', function(e) {
            const buttonText = this.textContent.trim();
            const href = this.getAttribute('href');
            
            // Add click animation
            this.style.transform = 'scale(0.95)';
            setTimeout(() => {
                this.style.transform = '';
            }, 150);
            
            // Check if the target page exists
            if (href && !href.startsWith('#')) {
                checkPageExists(href).then(exists => {
                    if (!exists) {
                        e.preventDefault();
                        showPageNotFound(buttonText);
                    } else {
                        // Add loading state
                        showLoadingState(this);
                    }
                });
            }
        });
        
        // Add hover effects
        button.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-3px)';
            this.style.boxShadow = '0 8px 20px rgba(0, 0, 0, 0.15)';
        });
        
        button.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0)';
            this.style.boxShadow = '0 5px 15px rgba(0, 0, 0, 0.1)';
        });
    });
    
    // Add keyboard navigation
    document.addEventListener('keydown', function(e) {
        if (e.altKey) {
            switch(e.key) {
                case '1':
                    navButtons[0].click();
                    break;
                case '2':
                    navButtons[1].click();
                    break;
                case '3':
                    navButtons[2].click();
                    break;
            }
        }
    });
});

// Function to check if a page exists
async function checkPageExists(url) {
    try {
        const response = await fetch(url, { method: 'HEAD' });
        return response.ok;
    } catch (error) {
        return false;
    }
}

// Function to show loading state
function showLoadingState(button) {
    const originalContent = button.innerHTML;
    button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Loading...';
    button.style.pointerEvents = 'none';
    
    // Restore original content after 2 seconds (fallback)
    setTimeout(() => {
        button.innerHTML = originalContent;
        button.style.pointerEvents = 'auto';
    }, 2000);
}

// Function to show page not found notification
function showPageNotFound(pageName) {
    // Remove any existing notifications
    const existingNotification = document.querySelector('.page-notification');
    if (existingNotification) {
        existingNotification.remove();
    }
    
    // Create notification element
    const notification = document.createElement('div');
    notification.className = 'page-notification';
    notification.innerHTML = `
        <div class="notification-content">
            <i class="fas fa-exclamation-triangle"></i>
            <div>
                <strong>Page Not Found</strong>
                <p>"${pageName}" page is not available yet.</p>
            </div>
            <button class="notification-close">&times;</button>
        </div>
    `;
    
    // Add styles
    notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: linear-gradient(135deg, #ff6b6b, #ee5a52);
        color: white;
        padding: 15px;
        border-radius: 10px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        z-index: 10000;
        max-width: 350px;
        animation: slideInRight 0.3s ease-out;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    `;
    
    const content = notification.querySelector('.notification-content');
    content.style.cssText = `
        display: flex;
        align-items: flex-start;
        gap: 12px;
    `;
    
    const closeBtn = notification.querySelector('.notification-close');
    closeBtn.style.cssText = `
        background: none;
        border: none;
        color: white;
        font-size: 18px;
        cursor: pointer;
        padding: 0;
        margin-left: auto;
        align-self: flex-start;
    `;
    
    // Add close functionality
    closeBtn.addEventListener('click', function() {
        notification.style.animation = 'slideOutRight 0.3s ease-in';
        setTimeout(() => {
            notification.remove();
        }, 300);
    });
    
    // Auto-remove after 5 seconds
    setTimeout(() => {
        if (notification.parentElement) {
            notification.style.animation = 'slideOutRight 0.3s ease-in';
            setTimeout(() => {
                notification.remove();
            }, 300);
        }
    }, 5000);
    
    document.body.appendChild(notification);
}

// Function to show coming soon notification (for future features)
function showComingSoon(featureName) {
    // Remove any existing notifications
    const existingNotification = document.querySelector('.coming-soon-notification');
    if (existingNotification) {
        existingNotification.remove();
    }
    
    const notification = document.createElement('div');
    notification.className = 'coming-soon-notification';
    notification.innerHTML = `
        <div class="notification-content">
            <i class="fas fa-tools"></i>
            <div>
                <strong>Coming Soon!</strong>
                <p>${featureName} is under development.</p>
            </div>
            <button class="notification-close">&times;</button>
        </div>
    `;
    
    notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: linear-gradient(135deg, #4a6fa5, #6b8cbc);
        color: white;
        padding: 15px;
        border-radius: 10px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        z-index: 10000;
        max-width: 300px;
        animation: slideInRight 0.3s ease-out;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    `;
    
    const content = notification.querySelector('.notification-content');
    content.style.cssText = `
        display: flex;
        align-items: flex-start;
        gap: 12px;
    `;
    
    const closeBtn = notification.querySelector('.notification-close');
    closeBtn.style.cssText = `
        background: none;
        border: none;
        color: white;
        font-size: 18px;
        cursor: pointer;
        padding: 0;
        margin-left: auto;
        align-self: flex-start;
    `;
    
    closeBtn.addEventListener('click', function() {
        notification.style.animation = 'slideOutRight 0.3s ease-in';
        setTimeout(() => {
            notification.remove();
        }, 300);
    });
    
    setTimeout(() => {
        if (notification.parentElement) {
            notification.style.animation = 'slideOutRight 0.3s ease-in';
            setTimeout(() => {
                notification.remove();
            }, 300);
        }
    }, 4000);
    
    document.body.appendChild(notification);
}

// Add CSS animations
const style = document.createElement('style');
style.textContent = `
    @keyframes slideInRight {
        from { 
            transform: translateX(100%); 
            opacity: 0; 
        }
        to { 
            transform: translateX(0); 
            opacity: 1; 
        }
    }
    
    @keyframes slideOutRight {
        from { 
            transform: translateX(0); 
            opacity: 1; 
        }
        to { 
            transform: translateX(100%); 
            opacity: 0; 
        }
    }
    
    .nav-btn {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
    }
    
    .nav-btn::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 2px;
        background: currentColor;
        transform: scaleX(0);
        transition: transform 0.3s ease;
    }
    
    .nav-btn:hover::after {
        transform: scaleX(1);
    }
    
    .fa-spinner {
        animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }
    
    /* Tooltip for keyboard shortcuts */
    .nav-btn[data-shortcut] {
        position: relative;
    }
    
    .nav-btn[data-shortcut]::before {
        content: attr(data-shortcut);
        position: absolute;
        top: -25px;
        left: 50%;
        transform: translateX(-50%);
        background: #333;
        color: white;
        padding: 4px 8px;
        border-radius: 4px;
        font-size: 12px;
        opacity: 0;
        transition: opacity 0.3s;
        pointer-events: none;
        white-space: nowrap;
    }
    
    .nav-btn[data-shortcut]:hover::before {
        opacity: 1;
    }
`;
document.head.appendChild(style);

// Add keyboard shortcuts to buttons
document.querySelectorAll('.nav-btn').forEach((btn, index) => {
    const shortcuts = ['Alt+1', 'Alt+2', 'Alt+3'];
    if (shortcuts[index]) {
        btn.setAttribute('data-shortcut', shortcuts[index]);
    }
});

// Page load analytics (optional)
window.addEventListener('load', function() {
    console.log('Vector Visualizer Navigation Loaded');
    console.log('Available shortcuts: Alt+1 (Home), Alt+2 (Advanced), Alt+3 (Applications)');
}); 
        // Initialize the visualization
        updateVectors();
    </script>
</body>
</html>