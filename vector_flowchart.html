<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vector Flowchart Visualization</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: white;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 20px;
        }
        
        .module-selector {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .module-btn {
            padding: 12px 25px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50px;
            color: white;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .module-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-3px);
        }
        
        .module-btn.active {
            background: rgba(76, 175, 80, 0.7);
            border-color: rgba(76, 175, 80, 0.9);
            box-shadow: 0 0 15px rgba(76, 175, 80, 0.5);
        }
        
        .content-area {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        @media (max-width: 900px) {
            .content-area {
                grid-template-columns: 1fr;
            }
        }
        
        .flowchart-container {
            background: rgba(0, 0, 0, 0.5);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            min-height: 500px;
            position: relative;
            overflow: hidden;
        }
        
        .flowchart {
            position: relative;
            height: 100%;
        }
        
        .node {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            width: 180px;
            transition: all 0.5s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .node.active {
            background: rgba(76, 175, 80, 0.3);
            border-color: rgba(76, 175, 80, 0.9);
            box-shadow: 0 0 20px rgba(76, 175, 80, 0.5);
            transform: scale(1.05);
        }
        
        .node.completed {
            background: rgba(76, 175, 80, 0.7);
            border-color: rgba(76, 175, 80, 0.9);
        }
        
        .connector {
            position: absolute;
            height: 2px;
            background: rgba(255, 255, 255, 0.3);
            transform-origin: left center;
            transition: all 0.5s ease;
        }
        
        .connector.active {
            background: rgba(76, 175, 80, 0.9);
            box-shadow: 0 0 10px rgba(76, 175, 80, 0.7);
        }
        
        .info-panel {
            background: rgba(0, 0, 0, 0.5);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            overflow-y: auto;
            max-height: 500px;
        }
        
        .info-panel h2 {
            margin-bottom: 20px;
            color: #4CAF50;
            border-bottom: 2px solid rgba(76, 175, 80, 0.5);
            padding-bottom: 10px;
        }
        
        .info-panel p {
            margin-bottom: 15px;
            line-height: 1.6;
        }
        
        .info-panel ul {
            margin-left: 20px;
            margin-bottom: 20px;
        }
        
        .info-panel li {
            margin-bottom: 8px;
            line-height: 1.5;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .control-btn {
            padding: 12px 30px;
            background: rgba(76, 175, 80, 0.7);
            border: none;
            border-radius: 50px;
            color: white;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .control-btn:hover {
            background: rgba(76, 175, 80, 0.9);
            transform: translateY(-3px);
        }
        
        .control-btn:disabled {
            background: rgba(255, 255, 255, 0.2);
            cursor: not-allowed;
            transform: none;
        }
        
        .home-btn {
            padding: 12px 30px;
            background: rgba(33, 150, 243, 0.7);
            border: none;
            border-radius: 50px;
            color: white;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            margin-bottom: 20px;
        }
        
        .home-btn:hover {
            background: rgba(33, 150, 243, 0.9);
            transform: translateY(-3px);
        }
        
        .vector-inputs {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .vector-input {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            width: 200px;
        }
        
        .vector-input h3 {
            margin-bottom: 10px;
            color: #4CAF50;
        }
        
        .vector-input input {
            width: 100%;
            padding: 8px;
            margin: 5px 0;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 5px;
            color: white;
            text-align: center;
        }
        
        .completion-message {
            text-align: center;
            font-size: 1.5rem;
            color: #4CAF50;
            margin: 20px 0;
            padding: 15px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            display: none;
        }
        
        .footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 15px;
        }
        
        .highlight {
            color: #4CAF50;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Vector Flowchart Visualization</h1>
            <p class="subtitle">Interactive visualization of vector operation workflows with animations</p>
            <p class="subtitle">Based on the Vector Visualization Workflow Documentation</p>
        </header>
        
        <div style="text-align: center; margin-bottom: 20px;">
            <button class="home-btn" id="home-btn">← Back to Home</button>
        </div>
        
        <div class="module-selector">
            <button class="module-btn active" data-module="basic">Basic Visualization</button>
            <button class="module-btn" data-module="advanced">Advanced Operations</button>
            <button class="module-btn" data-module="physics">Physics Applications</button>
            <button class="module-btn" data-module="3d">3D Animations</button>
            <button class="module-btn" data-module="quiz">AI-Powered Quiz</button>
        </div>
        
        <div class="vector-inputs">
            <div class="vector-input">
                <h3>Vector A</h3>
                <input type="number" id="a-x" placeholder="X component" value="3">
                <input type="number" id="a-y" placeholder="Y component" value="4">
                <input type="number" id="a-z" placeholder="Z component" value="2">
            </div>
            <div class="vector-input">
                <h3>Vector B</h3>
                <input type="number" id="b-x" placeholder="X component" value="1">
                <input type="number" id="b-y" placeholder="Y component" value="-2">
                <input type="number" id="b-z" placeholder="Z component" value="5">
            </div>
            <div class="vector-input">
                <h3>Scalar Value</h3>
                <input type="number" id="scalar" placeholder="Scalar" value="2">
            </div>
        </div>
        
        <div class="controls">
            <button class="control-btn" id="start-btn">Start Animation</button>
            <button class="control-btn" id="next-btn" disabled>Next Step</button>
            <button class="control-btn" id="reset-btn">Reset</button>
        </div>
        
        <div class="content-area">
            <div class="flowchart-container">
                <div class="flowchart" id="flowchart">
                    <!-- Flowchart nodes and connectors will be generated by JavaScript -->
                </div>
            </div>
            
            <div class="info-panel" id="info-panel">
                <h2>Vector Visualization Workflow</h2>
                <p>This interactive visualization demonstrates how the vector operation workflows function based on the documentation from <span class="highlight">vector_visualization_workflow.pdf</span>.</p>
                <p>Select a module from the top menu to see its specific workflow, then click "Start Animation" to see how each step is executed.</p>
                <p>The animation will highlight each step in <span class="highlight">green</span> as it progresses through the workflow.</p>
            </div>
        </div>
        
        <div class="completion-message" id="completion-message">
            Execution Complete! ✓
        </div>
        
        <div class="footer">
            <p>Vector Visualization System | Based on AI-Generated Documentation</p>
        </div>
    </div>

    <script>
        // Module data with workflow steps
        const modules = {
            basic: {
                title: "Basic Visualization Workflow",
                steps: [
                    { id: 1, text: "User Inputs Vector A and B", x: 50, y: 50 },
                    { id: 2, text: "Select Vector Operation", x: 50, y: 120 },
                    { id: 3, text: "AI Suggests Operations", x: 50, y: 190 },
                    { id: 4, text: "Process Natural Language Commands", x: 50, y: 260 },
                    { id: 5, text: "Calculate Selected Operation", x: 50, y: 330 },
                    { id: 6, text: "Generate 2D Visualization", x: 50, y: 400 },
                    { id: 7, text: "Display Results with AI Explanations", x: 50, y: 470 }
                ],
                info: `
                    <h2>Basic Visualization Workflow</h2>
                    <p>The Basic Visualization module allows users to input two-dimensional vectors and perform various operations with real-time visualizations.</p>
                    <p><span class="highlight">Key Features:</span></p>
                    <ul>
                        <li>Input for 2D vectors (Vector A and Vector B)</li>
                        <li>10 vector operations: Addition, Subtraction, Dot Product, Cross Product, Magnitude, Normalization, Scalar Multiplication, Angle Between, Projection, and Distance</li>
                        <li>Real-time 2D visualizations</li>
                        <li>AI-powered operation suggestions</li>
                        <li>Natural language command processing</li>
                        <li>AI-powered explanations for operations</li>
                    </ul>
                    <p><span class="highlight">Workflow Explanation:</span></p>
                    <p>The workflow begins with user input of vectors, followed by operation selection. AI features enhance the experience by suggesting relevant operations and processing natural language commands. The system then calculates the selected operation and generates a 2D visualization with AI-powered explanations.</p>
                `
            },
            advanced: {
                title: "Advanced Operations Workflow",
                steps: [
                    { id: 1, text: "Input Multiple Vectors & Parameters", x: 50, y: 50 },
                    { id: 2, text: "Select Advanced Operation", x: 50, y: 120 },
                    { id: 3, text: "AI Suggests Advanced Operations", x: 50, y: 190 },
                    { id: 4, text: "Process Natural Language Commands", x: 50, y: 260 },
                    { id: 5, text: "Perform Complex Calculations", x: 50, y: 330 },
                    { id: 6, text: "Generate 2D/3D Visualization", x: 50, y: 400 },
                    { id: 7, text: "Display Results with Explanations", x: 50, y: 470 }
                ],
                info: `
                    <h2>Advanced Operations Workflow</h2>
                    <p>The Advanced Operations module extends vector manipulation with complex operations and 3D capabilities.</p>
                    <p><span class="highlight">Key Features:</span></p>
                    <ul>
                        <li>Input for multiple vectors (A, B, C) and advanced parameters</li>
                        <li>Advanced operations: 3D Addition/Subtraction, Vector Reflection, Barycentric Coordinates, Vector Decomposition, Gram-Schmidt, Vector Rotation, Shear Transformation, and more</li>
                        <li>Toggleable 2D/3D views with interactive controls</li>
                        <li>AI-powered operation suggestions and explanations</li>
                        <li>Natural language command processing</li>
                    </ul>
                    <p><span class="highlight">Workflow Explanation:</span></p>
                    <p>This workflow handles more complex vector operations. Users input multiple vectors and parameters, then select from advanced operations. AI assists by suggesting relevant operations based on inputs. The system performs complex calculations and generates visualizations in either 2D or 3D, with detailed explanations of the results.</p>
                `
            },
            physics: {
                title: "Vector Physics Applications Workflow",
                steps: [
                    { id: 1, text: "Select Physics Concept", x: 50, y: 50 },
                    { id: 2, text: "Input Vectors & Parameters", x: 50, y: 120 },
                    { id: 3, text: "AI Generates Physics Problems", x: 50, y: 190 },
                    { id: 4, text: "Process Natural Language Input", x: 50, y: 260 },
                    { id: 5, text: "Calculate Physics Application", x: 50, y: 330 },
                    { id: 6, text: "Generate Dynamic Visualization", x: 50, y: 400 },
                    { id: 7, text: "Display Solution with Step-by-Step Explanation", x: 50, y: 470 }
                ],
                info: `
                    <h2>Vector Physics Applications Workflow</h2>
                    <p>This module applies vector operations to real-world physics concepts with interactive problem-solving.</p>
                    <p><span class="highlight">Key Features:</span></p>
                    <ul>
                        <li>Physics concepts: Work, Area of Parallelogram, Torque, Normal Vectors, Resultant Velocity, and more</li>
                        <li>Interactive inputs for vectors and physics parameters</li>
                        <li>AI-generated physics problems at different difficulty levels</li>
                        <li>Natural language problem input</li>
                        <li>Step-by-step solution explanations</li>
                        <li>AI-generated quizzes and code generation</li>
                        <li>Real-time feedback and hints</li>
                    </ul>
                    <p><span class="highlight">Workflow Explanation:</span></p>
                    <p>The workflow focuses on applying vector mathematics to physics. Users select a physics concept and input relevant vectors and parameters. AI can generate physics problems or process natural language descriptions. The system calculates the physics application, generates dynamic visualizations, and provides detailed step-by-step explanations of the solution.</p>
                `
            },
            "3d": {
                title: "3D Animations Workflow",
                steps: [
                    { id: 1, text: "Input Vector A, B & Scalar", x: 50, y: 50 },
                    { id: 2, text: "Select 3D Vector Operation", x: 50, y: 120 },
                    { id: 3, text: "Configure Visualization Settings", x: 50, y: 190 },
                    { id: 4, text: "Calculate 3D Operation", x: 50, y: 260 },
                    { id: 5, text: "Generate 3D Scene", x: 50, y: 330 },
                    { id: 6, text: "Apply Interactive Controls", x: 50, y: 400 },
                    { id: 7, text: "Display 3D Animation with Results", x: 50, y: 470 }
                ],
                info: `
                    <h2>3D Animations Workflow</h2>
                    <p>The 3D Animations module provides immersive 3D visualizations of vector operations with interactive controls.</p>
                    <p><span class="highlight">Key Features:</span></p>
                    <ul>
                        <li>3D vector operations: Addition, Subtraction, Scalar Multiplication, Cross Product, Work (Dot Product), and Torque</li>
                        <li>Interactive 3D controls: drag to rotate, scroll to zoom, right-click to pan</li>
                        <li>Accessibility features: high contrast mode, large labels, scene descriptions</li>
                        <li>Multilingual support: 7 interface languages</li>
                        <li>Real-time updates as inputs change</li>
                    </ul>
                    <p><span class="highlight">Workflow Explanation:</span></p>
                    <p>This workflow specializes in 3D visualization. Users input vectors and a scalar value, then select a 3D vector operation. After configuring visualization settings, the system calculates the operation and generates a 3D scene. Interactive controls allow users to manipulate the view, and the final 3D animation displays the results of the operation.</p>
                `
            },
            quiz: {
                title: "AI-Powered Quiz Workflow",
                steps: [
                    { id: 1, text: "Select Quiz Focus Areas", x: 50, y: 50 },
                    { id: 2, text: "AI Generates Adaptive Questions", x: 50, y: 120 },
                    { id: 3, text: "User Answers Questions", x: 50, y: 190 },
                    { id: 4, text: "AI Provides Real-Time Feedback", x: 50, y: 260 },
                    { id: 5, text: "Interactive AI Tutor Assistance", x: 50, y: 330 },
                    { id: 6, text: "Generate Visual Explanations", x: 50, y: 400 },
                    { id: 7, text: "Update Progress & Learning Path", x: 50, y: 470 }
                ],
                info: `
                    <h2>AI-Powered Quiz Workflow</h2>
                    <p>This module provides adaptive quizzes with AI-powered feedback and personalized learning paths.</p>
                    <p><span class="highlight">Key Features:</span></p>
                    <ul>
                        <li>Adaptive quizzes personalized to user performance</li>
                        <li>Focus areas: Work, Torque, Velocity, and other vector physics concepts</li>
                        <li>Real-time feedback with detailed error analysis</li>
                        <li>Interactive AI tutor for guidance</li>
                        <li>Visual explanations with annotated diagrams</li>
                        <li>Predictive learning path recommendations</li>
                        <li>Progress tracking with points and leaderboard</li>
                    </ul>
                    <p><span class="highlight">Workflow Explanation:</span></p>
                    <p>The quiz workflow begins with users selecting focus areas. AI then generates adaptive questions based on the selected topics and user performance. As users answer questions, the system provides real-time feedback and offers AI tutor assistance. Visual explanations help clarify concepts, and the system updates progress metrics while recommending personalized learning paths.</p>
                `
            }
        };

        // Current state
        let currentModule = 'basic';
        let currentStep = 0;
        let animationInterval;

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            // Set up module buttons
            document.querySelectorAll('.module-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    // Update active button
                    document.querySelectorAll('.module-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Change module
                    currentModule = this.getAttribute('data-module');
                    resetAnimation();
                    renderFlowchart();
                    updateInfoPanel();
                });
            });
            
            // Set up control buttons
            document.getElementById('start-btn').addEventListener('click', startAnimation);
            document.getElementById('next-btn').addEventListener('click', nextStep);
            document.getElementById('reset-btn').addEventListener('click', resetAnimation);
            
            // Set up home button
            document.getElementById('home-btn').addEventListener('click', function() {
                window.location.href = 'vector_intro.html';
            });
            
            // Initial render
            renderFlowchart();
            updateInfoPanel();
        });
        
        // Render the flowchart for the current module
        function renderFlowchart() {
            const flowchart = document.getElementById('flowchart');
            flowchart.innerHTML = '';
            
            const module = modules[currentModule];
            
            // Create nodes
            module.steps.forEach(step => {
                const node = document.createElement('div');
                node.className = 'node';
                node.id = `node-${step.id}`;
                node.textContent = step.text;
                node.style.left = `${step.x}px`;
                node.style.top = `${step.y}px`;
                flowchart.appendChild(node);
            });
            
            // Create connectors
            for (let i = 0; i < module.steps.length - 1; i++) {
                const startNode = module.steps[i];
                const endNode = module.steps[i + 1];
                
                const connector = document.createElement('div');
                connector.className = 'connector';
                connector.id = `connector-${i+1}`;
                
                // Calculate position and dimensions
                const x1 = startNode.x + 180;
                const y1 = startNode.y + 40;
                const x2 = endNode.x;
                const y2 = endNode.y + 40;
                
                const length = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));
                const angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI;
                
                connector.style.width = `${length}px`;
                connector.style.left = `${x1}px`;
                connector.style.top = `${y1}px`;
                connector.style.transform = `rotate(${angle}deg)`;
                
                flowchart.appendChild(connector);
            }
        }
        
        // Update the info panel with current module information
        function updateInfoPanel() {
            document.getElementById('info-panel').innerHTML = modules[currentModule].info;
        }
        
        // Start the animation
        function startAnimation() {
            resetAnimation();
            document.getElementById('start-btn').disabled = true;
            document.getElementById('next-btn').disabled = false;
            
            currentStep = 0;
            animateStep();
            
            // Auto-advance every 2 seconds
            animationInterval = setInterval(() => {
                if (currentStep < modules[currentModule].steps.length) {
                    animateStep();
                } else {
                    clearInterval(animationInterval);
                    document.getElementById('completion-message').style.display = 'block';
                }
            }, 2000);
        }
        
        // Animate the next step
        function animateStep() {
            // Reset all nodes and connectors
            document.querySelectorAll('.node').forEach(node => {
                node.classList.remove('active', 'completed');
            });
            
            document.querySelectorAll('.connector').forEach(connector => {
                connector.classList.remove('active');
            });
            
            // Activate current step
            if (currentStep > 0) {
                const prevNode = document.getElementById(`node-${currentStep}`);
                if (prevNode) prevNode.classList.add('completed');
                
                const prevConnector = document.getElementById(`connector-${currentStep}`);
                if (prevConnector) prevConnector.classList.add('active');
            }
            
            const currentNode = document.getElementById(`node-${currentStep + 1}`);
            if (currentNode) currentNode.classList.add('active');
            
            currentStep++;
            
            // If we've reached the end, show completion message
            if (currentStep > modules[currentModule].steps.length) {
                document.getElementById('completion-message').style.display = 'block';
                document.getElementById('next-btn').disabled = true;
            }
        }
        
        // Manually go to next step
        function nextStep() {
            if (currentStep <= modules[currentModule].steps.length) {
                animateStep();
            }
        }
        
        // Reset the animation
        function resetAnimation() {
            clearInterval(animationInterval);
            
            document.querySelectorAll('.node').forEach(node => {
                node.classList.remove('active', 'completed');
            });
            
            document.querySelectorAll('.connector').forEach(connector => {
                connector.classList.remove('active');
            });
            
            document.getElementById('start-btn').disabled = false;
            document.getElementById('next-btn').disabled = true;
            document.getElementById('completion-message').style.display = 'none';
            
            currentStep = 0;
        }
    </script>
</body>
</html>